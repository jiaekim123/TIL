# 3장. 타입과 추상화

### 지하철 노선도

- 실제 지도와 똑같이 그리는 것이 아니라 목적에 집중해서 그린다.
- 중요한 것은 연결, 즉 열차를 갈아타는 것.

### 추상화를 통한 복잡성 극복

- 진정한 의미의 추상화란 현실에서 출발하되 불필요한 부분을 도려내가면서 사물의 놀라운 본질을 드러나게 하는 과정

### 추상화

어떤 양상, 세부 사항, 구조를 좀 더 명확하게 이해하기 위해 특정 절차나 물체를 의도적으로 생략하거나 감춤으로써 복잡도를 극복하는 방법

- 첫번째 차원: 구체적인 사물들 간의 공통점은 취하고 차이점은 버리는 일반화를 통해 단순하게 만드는 것
- 두번째 차원: 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거함으로써 단순하게 만드는 것

### 객체

- 특정한 개념을 적용할 수 있는 구체적인 사물
- 개념이 객체에 적용됐을 때 객체를 개념의 인스턴스라고 한다.

### 개념의 세 가지 관점

- 심볼(symbol): 개념을 가리키는 간략한 이름이나 명칭
    - ‘트럼프’라는 이름
- 내연(intension): 개념의 완전한 정의
    - 몸이 납작하고 두 손과 두 발은 네모 귀퉁이에 달려있는 등장인물
- 외면(extension): 개념에 속하는 모든 객체의 집합
    - 저우언사, 병사, 신하, 왕자와 공주, 하객으로 참석한 왕과 왕비들, 하트 잭, 하트 왕과 하트 여왕

### 분류

- 객체에 특정한 개념을 적용하는 작업
- 추상화를 위한 도구

### 타입

- 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념
- 어떤 객체에 타입을 적용할 수 있을 때 그 객체의 타입을 인스턴스라고 한다.
- 타입의 인스턴스는 타입을 구성하는 외연인 객체 집합의 일원이 된다.

### 타입 시스템의 목적

- 데이터가 잘못 사용되지 않도록 제약사항 부과

### 데이터 타입

- 메모리 안에 저장된 데이터의 종류를 분류하는데 사용하는 메모리 집합에 관한 메타데이터
- 데이터에 대한 분류는 암시적으로 어떤 종류의 연산이 해당 데이터에 대해 수행될 수 있는지를 결정한다.

### 객체와 타입

1. 어떤 객체가 어떤 타입에 속하는지를 결정하는 것은 객체가 수행하는 행동이다.
    1. 어떤 객체들이 동일한 행동을 수행할 수 있다면 그 객체는 동일한 타입이다.
2. 객체의 내부적인 표현은 외부로부터 철저하게 감춰진다.
    1. 객체의 행동을 가장 효과적으로 수행할 수만 있따면 객체의 상태를 어떤 방식으로 표현하더라도 무방하다.
    

### 타입이 데이터가 아니라 행동에 의해 결정된다.

- 같은 타입에 속한 객체는 행동만 동일하다면 서로 다른 데이터를 가질 수 있다.
    - 동일한 행동: 동일한 책임
    - 동일한 책임: 동일한 메시지 수신
- 다형성이란 동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력
- 캡슐화란 외부에 행동만을 제공하고 데이터는 행동 뒤로 감추는 것

### 책임 주도 설계

1. 책임을 결정한다.
2. 책임을 수행하는데 적합한 데이터를 결정한다.
3. 책임을 수행하는데 필요한 외부 인터페이스 뒤로 캡슐화한다.

`객체를 결정하는 것은 행동이다. 데이터는 단지 행동을 따를 뿐이다. 이것이 객체를 객체답게 만드는 가장 핵심적인 원칙이다.`

### 일반화/특수화 관계

- 일반화/특수화의 관계를 결정하는 것은 객체의 상태를 표현하는 데이터가 아니라 행동이다.
- 특수한 타입은 일반적인 타입이 할 수 있는 모든 행동을 동일하게 수행할 수 있어야 한다.
- 일반적인 타입: 슈퍼 타입
- 특수한 타입: 서브 타입

### 타입은 추상화다.

타입을 이용하면 객체의 동적인 특성을 추상화할 수 있다.

### 동적 모델과 정적 모델

1. 객체가 특정 시점에 구체적으로 어떤 상태를 가지는가
    1. 객체가 살아 움직이는 동안 상태가 어떻게 변하고 어떻게 행동하는지 포착: 동적 모델
2. 객체가 가질 수 있는 모든 상태와 모든 행동을 시간에 독립적으로 표현
    1. 동적으로 변하는 객체의 상태가 아니라 객체가 속한 타입의 정적인 모습을 표현: 정적 모델
    

### 클래스

- 정적인 모델은 클래스를 이용해 구현된다.
- 클래스는 단지 타입을 구현할 수 있는 여러 구현 메커니즘 중 하나이다.

### 요약

- 객체를 분류하는 기준은 타입이며 타입을 나누는 기준은 객체가 수행하는 행동이다.
- 객체를 분류하기 위해 타입을 결정한 후 프로그래밍 언어를 이용해 타입을 구현할 수 있는 한 가지 방법이 클래스이다.
- 객체지향에서 중요한 것은 동적으로 변하는 객체의 ‘상태’와 상태를 변경하는 ‘행동’이다.
- 클래스는 타입을 구현하기 위해 프로그래밍 언어에서 제공하는 구현 메커니즘일 뿐이다.