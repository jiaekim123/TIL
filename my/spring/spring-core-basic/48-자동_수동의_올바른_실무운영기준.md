# [스프링 핵심원리] 자동, 수동의 올바른 실무 운영 기준

## 편리한 자동 기능을 기본으로 사용하자

![image](https://user-images.githubusercontent.com/37948906/144034329-7e1ac44f-3d54-4a7f-8798-fd1047e38eb2.png)

## 그러면 수동 빈 등록은 언제 사용하면 좋을까?

애플리케이션은 크게 업무 로직과 기술 지원 로직으로 나눌 수 있다.
- 업무 로직 빈
  - 컨트롤러, 서비스, 레포지토리 등 비즈니스 요구사항을 개발할 때 추가되거나 변경되는 경우
- 기술 지원 빈
  - 기술적인 문제, 공통 관심사(AOP)를 처리할 때 주로 사용. 데이터배이스 연결, 공통 로그 처리 등의 업무 로직을 지원하기 위한 하부 기술이나 공통 기술들
 
- 업무로직은 숫자도 많고 유사한 패턴이 있음. 이럴 때 자동 기능을 적극 사용하는게 좋음. 어디서 문제가 발생했는지 명확하게 파악하기 쉬움.
- 기술 지원 로직은 업무 로직과 비교해서 그 수가 매우 적고 어플 전반의 광범위 영향을 미치고 문제가 명확하게 드러나지 않는 경우가 많다. 가급적 이런 빈들은 따라서 명확히 들어내는 것이 좋다.

> 애플리케이션에 광범위하게 영향을 미치는 기술 지원 객체는 수동 빈으로 등록해서 설정 정보에 명확하게 나타나게 하는 것이 유지보수하기에 좋다.

## 비즈니스 로직 중에서 다형성을 적극 활용할 때

![image](https://user-images.githubusercontent.com/37948906/144035548-fa42ae47-1f6a-47a1-9d58-2566a69c06ef.png)

이렇게 한눈에 Configuration에 보이는게 더 유지보수하기 쉽다.
(답은 없음. 자동등록이 나을 수도 있음.)
자동 등록 시 최소한 패키지는 묶어두자.

참고로 스프링과 스프링 부트가 자동으로 등록하는 수 많은 빈들은 예외다! 예를 들어 스프링 부트의 경우 'DataSource' 같은 데이터베이스 연결에 사용하는 기술 지원 로직까지 내부에서 자동으로 등록하는데, 이런 부분은 메뉴얼을 잘 참고해서 스프링 부트가 의도한 대로 편리하게 사용하면 된다. 반면에 스프링 부트가 아니라 내가 직접 기술 지원 객체를 스프링 빈으로 등록한다면 수동으로 등록해서 명확하게 드러내는 것이 좋다.

## 정리
- 편리한 자동등록 기능을 기본으로 사용하자
- 직접 등록하는 기술 지원 객체는 수동 등록하자.
- 다형성을 적극 활용하는 비즈니스 로직은 수동 등록을 고민해보자.